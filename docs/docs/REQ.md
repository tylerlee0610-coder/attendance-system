# 📝 **智慧化員工考勤與請假管理系統 — 需求規格文件（REQ）**

## 1. **專題簡介（Project Introduction）**
**專題名稱**：智慧化員工考勤與請假管理系統  
**系統背景與目的**：  
本系統旨在取代傳統紙本或機器打卡，建置一套**數位化、可即時回饋**的員工考勤與假單管理平台，並提供主管與系統管理員有效率的後台管理工具。  
系統包含 **前台（員工）**、**後台（主管）**、**後台（Admin）**，使用統一架構樣板進行開發，確保界面一致性與資料庫完整性。

**主要待解決問題**
1. **缺乏即時性**：主管無法即時掌握出勤狀態（遲到／未打卡）。
2. **請假流程效率低**：紙本流程造成追蹤困難。
3. **資料分散**：缺乏統一平台查詢歷史紀錄，耗時耗力。

**本系統的核心解決方案**
- 提供員工可快速打卡、補卡、請假的 Web 介面。
- 提供主管可查看部門員工出勤、審核假單與列印報表的後台介面。
- 提供 Admin 可管理帳號、角色、部門與全域報表的後台介面。
- 整合即時異常通知機制，提高管理效率。

---

## 2. **使用者需求（User Requirements）**

### 👤 **員工需求**
#### 🎯 想達成的目標
- 能快速完成「上班／下班」打卡，不需多步驟。
- 打卡需自動記錄時間與位置。
- 忘記打卡時，可申請補登。
- 簡單查看自己的打卡紀錄、工時統計。
- 追蹤請假、補卡、加班的審核進度。

#### 😣 痛點
- 傳統紙本不方便、易忘記。
- 不確定是否成功打卡。
- 外出無法打卡。
- 上下班被誤判。

---

### 👨‍💼 **主管需求（Supervisor）**
#### 🎯 想達成的目標
- 一眼看到**今日部門員工**出勤狀況。
- 快速查看誰遲到、誰未打卡、誰請假（限部門/所管轄範圍）。
- 審核部門員工的補卡、請假等各項申請。
- 匯出**部門**考勤報表（Excel）。

#### 😣 痛點
- 現在需人工比對出勤。
- 忘記打卡、假單過程難追蹤。
- 缺乏統一電子紀錄佐證。

---

### 🛠 **系統管理員需求（Admin）**
#### 🎯 想達成的目標
- 管理全系統帳號（建立/停用/重設密碼）。
- 指派使用者角色（員工／主管／Admin）。
- 管理部門資料，並設定主管與員工歸屬。
- 匯出**全公司/跨部門**考勤報表（Excel）。
- 具備必要的後台查詢能力，以支援稽核與問題排除。

#### 😣 痛點
- 權限若未分層，容易造成資料存取混亂或管理負擔過大。
- 多部門資料若缺乏一致後台工具，維運與查核成本高。

---

## 3. **使用情境（Scenario Requirements）**

### 📌 **情境 1：員工每日上下班打卡**
角色：員工  
行為：到公司或準備下班時，進行上／下班打卡  
目的：保留正確出勤紀錄，避免被計為遲到／早退  

系統需支援：
1. 接收打卡請求（POST /checkin）
2. 自動記錄時間戳記、打卡類型
3. 儲存到資料庫（CheckinRecord）
4. 回饋成功訊息

---

### 📌 **情境 2：主管查詢部門考勤紀錄與審核請假**
角色：主管（Supervisor）  
行為：登入後台，查看**部門**出勤並審核假單/補卡  
目的：快速找到異常（缺勤／遲到）並完成審核  

系統需支援：
1. 後台可依日期篩選**部門出勤紀錄**
2. 顯示員工狀態（遲到、正常、未打卡、請假）
3. 進入審核頁面處理請假/補卡
4. 將申請狀態改為「通過／退回」

---

### 📌 **情境 3：員工申請與追蹤假單**
角色：員工  
行為：填寫請假表單、查看申請進度  
目的：提交假單並隨時追蹤審核狀態  

系統需支援：
1. 請假表單頁面（含假別、日期範圍）
2. 初始狀態 = 待審核
3. 查詢列表顯示所有已提出假單
4. 狀態即時更新（待審核／通過／退回）

---

### 📌 **情境 4：Admin 管理帳號、角色與部門**
角色：系統管理員（Admin）  
行為：登入後台，管理帳號/角色/部門，並進行跨部門查詢與匯出  
目的：維持系統資料正確性與權限一致性，支援全域管理需求  

系統需支援：
1. 建立/停用使用者帳號
2. 指派角色（員工／主管／Admin）
3. 建立/維護部門資料，設定主管與員工歸屬
4. 匯出全公司或指定條件的考勤報表（Excel）

---

## 4. **功能需求（Functional Requirements）**
> 以下為正式功能需求編號（FR-XX）

| 編號 | 功能名稱 | 使用者 | 功能說明 |
| --------- | ------------- | ----- | ----------------------------- |
| **FR-01** | 上下班打卡 | 員工 | 員工於系統進行上班／下班打卡，系統自動記錄時間戳記與位置。 |
| **FR-02** | 補打卡申請 | 員工 | 員工可申請補卡，顯示補登時間並等待主管審核。 |
| **FR-03** | 顯示打卡紀錄 | 員工／主管／Admin | 員工僅能查看自己的紀錄；主管可查看部門員工出勤；Admin 可查看全公司/跨部門出勤。 |
| **FR-04** | 請假申請 | 員工 | 員工提出請假申請，可查看假別、日期、審核狀態。 |
| **FR-05** | 請假審核 | 主管／Admin | 主管可核准／退回部門假單；Admin 可處理跨部門查核或代審需求（以系統設定為準），結果需通知員工。 |
| **FR-06** | 匯出打卡紀錄（Excel） | 主管／Admin | 主管可匯出部門考勤；Admin 可匯出全公司或指定條件考勤報表。 |
| **FR-07** | 出勤異常提醒 | 員工／主管／Admin | 若員工未打卡、遲到，系統會通知該員工與其主管；Admin 可查看全域異常總覽。 |
| **FR-08** | 帳號管理 | Admin | Admin 可建立/停用帳號、重設密碼。 |
| **FR-09** | 角色指派與管理 | Admin | Admin 可指派角色（員工／主管／Admin），以區分前後台權限。 |
| **FR-10** | 部門管理與人員歸屬 | Admin | Admin 可建立/維護部門資料，設定主管與員工歸屬部門。 |

---

## 5. **非功能需求（Non-Functional Requirements, NFR）**

### 🎛 **NFR-01 使用便利性（Usability）**
- 員工可快速打卡，不需多步驟。
- 員工無需頻繁登入，可保留登入狀態。
- UI 清晰，主管能一眼看到「今日出勤總覽」。

### ⚡ **NFR-02 系統反應速度（Performance）**
- 打卡操作 1 秒內回應。
- 請假紀錄查詢應在 2 秒內完成。

### 🔒 **NFR-03 資安需求（Security）**
- API 需驗證員工身分（Token / Session）。
- 前後台分權限管理（RBAC）。

### ☁ **NFR-04 系統可靠度（Reliability）**
- 所有打卡紀錄需具備完整時間戳與不可竄改性。
- 若網路不穩，應提示「打卡失敗」。

### 📄 **NFR-05 報表需求**
- 主管可匯出完整員工打卡與請假紀錄（Excel）。

---

## 6. **最小可行產品（MVP）功能**
以下為首版必須完成的核心功能：
1. **上下班打卡（FR-01）** — 系統最核心、最重要功能
2. **主管顯示出勤紀錄（FR-03）**
3. **異常提醒（FR-07）**
